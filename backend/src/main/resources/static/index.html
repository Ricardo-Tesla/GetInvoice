<!DOCTYPE html>
<html lang="en">
  <head>
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="apple-touch-icon.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="favicon-16x16.png"
    />
    <link rel="manifest" href="site.webmanifest" />

    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>InvoiceEase</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="container">
      <!-- Navigation bar -->

      <!-- User Navigation bar -->
      <nav id="user-navbar" class="navbar hidden" aria-label="user nav bar">
        <ul>
          <li>
            <a href="#" data-page="dashboard"
              ><img src="dashboard.png" alt="Dashboard" />Dashboard</a
            >
          </li>
          <li>
            <a href="#" data-page="all-transactions"
              ><img src="transaction-history.png" alt="History" />Payment History</a
            >
          </li>
          <li>
            <a href="#" data-page="requested-receipts"
              ><img src="requested-receipt.png" alt="Pending" />Requested Receipts</a
            >
          </li>
          <li>
            <a href="#" data-page="download"
              ><img src="download.png" alt="Download" />Download Receipt</a
            >
          </li>
          <li>
            <a href="#" id="logout"
              ><img src="logout.png" alt="Logout" />Logout</a
            >
          </li>
        </ul>
      </nav>

      <!-- Admin Navigation bar -->
      <nav id="admin-navbar" class="navbar hidden" aria-label="admin nav bar">
        <ul>
          <li>
            <a href="#" data-page="users"
              ><img src="users.png" alt="Users" />Users</a
            >
          </li>
          <li>
            <a href="#" id="logout"
              ><img src="logout.png" alt="Logout" />Logout</a
            >
          </li>
        </ul>
      </nav>

      <!-- Main content sections -->
      <div class="content">
        
        <!-- Login form section -->
        <div id="login-page">
          <h1>Welcome to InvoiceEase</h1>
          <form id="login-form">
            <div class="form-group">
              <label for="username">Username:</label>
              <input
                type="text"
                id="username"
                placeholder="Enter your username"
                required
              />
            </div>
            <div class="form-group">
              <label for="password">Password:</label>
              <div class="password-input-wrapper">
                <input
                  type="password"
                  id="password"
                  placeholder="Enter your password"
                  required
                />
                <button
                  type="button"
                  class="toggle-password"
                  aria-label="Toggle password visibility"
                >
                  <img
                    src="eye-closed.png"
                    alt="Show password"
                    class="eye-icon"
                  />
                </button>
              </div>
            </div>
            <button type="submit">Log In</button>
          </form>
          <p>
            Don't have an account?
            <button id="show-signup" class="text-button">Sign up here</button>
          </p>
        </div>

        <!-- Signup form section -->
        <div id="signup-page" class="hidden">
          <h1>Create an Account</h1>
          <form id="signup-form">
            <div class="form-group">
              <label for="new-username">Username:</label>
              <input
                type="text"
                id="new-username"
                placeholder="Enter your username"
                required
              />
            </div>
            <div class="form-group">
              <label for="new-email">Email:</label>
              <input
                type="email"
                id="new-email"
                placeholder="Enter your email"
                required
              />
            </div>
            <div class="form-group">
              <label for="new-password">Password:</label>
              <div class="password-input-wrapper">
                <input
                  type="password"
                  id="new-password"
                  placeholder="Enter your password"
                  required
                />
                <button
                  type="button"
                  class="toggle-password"
                  aria-label="Toggle password visibility"
                >
                  <img
                    src="eye-closed.png"
                    alt="Show password"
                    class="eye-icon"
                  />
                </button>
              </div>
            </div>
            <button type="submit">Sign Up</button>
          </form>
          <p>
            Already have an account?
            <button id="show-login" class="text-button">Log in here</button>
          </p>
        </div>

        <!-- Dashboard section -->
        <div id="dashboard-page" class="hidden">
          <h1>Welcome, <span id="user-name"></span>!</h1>
          <h2>Recent Transactions</h2>
          <table id="recent-transactions">
            <thead>
              <tr>
                <th>ID</th>
                <th>Date</th>
                <th>Amount</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
          <button id="view-all-transactions">View All Transactions</button>
        </div>

        <!-- All transactions section -->
        <div id="all-transactions-page" class="hidden">
          <h1>Payment History</h1>
          <table id="all-transactions">
            <thead>
              <tr>
                <th>ID</th>
                <th>Date</th>
                <th>Amount</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>

        <!-- Request receipt section -->
        <div id="request-page" class="hidden">
          <h1>Request Receipt</h1>
          <table id="request-transactions">
            <thead>
              <tr>
                <th>Transaction ID</th>
                <th>Date</th>
                <th>Amount</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
          <form id="receipt-form" class="hidden">
            <h2>Request Receipt</h2>
            <input type="hidden" id="transaction-id" />
            <button type="submit">Submit Request</button>
          </form>
        </div>

        <!-- Download receipt section -->
        <div id="download-page" class="hidden">
          <h1>Download Receipt</h1>
          <p>These are approved receipts:</p>
          <table id="available-receipts">
            <thead>
              <tr>
                <th>Transaction ID</th>
                <th>Date</th>
                <th>Amount</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>

        <!-- Requested receipts section -->
        <div id="requested-receipts-page" class="hidden">
          <h1>Requested Receipts</h1>
          <p>These are the requested receipts pending approval:</p>
          <table id="pending-receipts">
            <thead>
              <tr>
                <th>Transaction ID</th>
                <th>Date</th>
                <th>Amount</th>
                <th>Status</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>

        <!-- Add Transaction Popup -->
        <div id="add-transaction-popup" class="popup hidden">
          <div class="popup-content">
            <h2>Add Transaction</h2>
            <form id="add-transaction-form">
              <input type="hidden" id="transaction-user-id" />
              <div class="form-group">
                <label for="transaction-amount">Amount (Ksh):</label>
                <input
                  type="number"
                  id="transaction-amount"
                  required
                  min="0"
                  step="0.01"
                  placeholder="Enter the amount"
                />
              </div>
              <button type="submit">Add Transaction</button>
              <button type="button" id="cancel-transaction">Cancel</button>
            </form>
          </div>
        </div>

        <!-- Admin Users Page -->
        <div id="users-page" class="hidden">
          <h1>User Management</h1>
          <table id="users-table">
            <thead>
              <tr>
                <th>Username</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>

        <!-- Admin User Transactions Page -->
        <div id="admin-user-transactions-page" class="hidden">
          <h1>User Transactions</h1>
          <h2 id="selected-user">-</h2>
          <table id="admin-user-transactions-table">
            <thead>
              <tr>
                <th>ID</th>
                <th>Date</th>
                <th>Amount</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
          <button id="back-to-users">Back to Users</button>
        </div>

        <!-- Admin Receipts Management Page -->
        <div id="admin-receipts-page" class="hidden">
          <h1>Receipt Management</h1>
          <h2 id="selected-user-admin">-</h2>
          <table id="admin-receipts-table">
            <thead>
              <tr>
                <th>Transaction ID</th>
                <th>Date</th>
                <th>Amount</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
          <button id="admin-back-to-users">Back to Users</button>
        </div>

        <!-- Loading spinner -->
        <div id="loading-spinner" class="loading-spinner hidden"></div>

        <!-- Internal styles -->
        <style>
          .loading-spinner {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 50px;
            height: 50px;
            border: 5px solid #f3f3f3;
            border-top: 5px solid #3498db;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            z-index: 9999;
          }

          @keyframes spin {
            0% {
              transform: translate(-50%, -50%) rotate(0deg);
            }
            100% {
              transform: translate(-50%, -50%) rotate(360deg);
            }
          }

          .hidden {
            display: none;
          }
        </style>

        <!-- JavaScript -->
        <script src="app.js"></script>
      </div>
    </div>
  </body>
</html>
